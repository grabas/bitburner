import {NS} from "@ns";
import {cDocument, cWindow} from "/react-component/react";

/** @param {NS} ns **/
export async function main(ns: NS) {
    undocumented(ns)
    bypass();
    rainbow(ns);
    unclickeable();
    prototypeTempering();
    timeCompression();
}
// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-ignore
const undocumented = (ns: NS) => ns.exploit();
// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-ignore
const bypass = () => eval("ns.bypass(document)");
// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-ignore
const rainbow = (ns: NS) => ns.rainbow('noodles')

const prototypeTempering = () => {
    // eslint-disable-next-line @typescript-eslint/ban-ts-comment
    // @ts-ignore
    Number.prototype.toExponential = function () { return null; }
}

const timeCompression = () => cWindow.performance.now = function() {return 0;};

const unclickeable = () => {
    const unclickable = cDocument.getElementById('unclickable');

    if (!unclickable) {
        return
    }

    unclickable.style.display = "block";
    unclickable.style.width = "100px";
    unclickable.style.height = "100px";
    unclickable.style.visibility = "visible";
    unclickable.style.zIndex = "10000";
    unclickable.style.background = "white";

    const parentNode = unclickable.parentNode;

    if (!parentNode) {
        return
    }

    parentNode.addEventListener('click', () => {
        unclickable.style.display = "none";
        unclickable.style.visibility = "hidden";
    }, true);
}